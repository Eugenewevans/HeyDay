<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HeyDay MVP – Frontend</title>
    <style>
      body { font-family: system-ui, sans-serif; margin: 2rem; }
      input, select, textarea, button { padding: .5rem; margin: .25rem 0; width: 100%; max-width: 480px; }
      .card { border: 1px solid #ddd; border-radius: 8px; padding: 1rem; max-width: 640px; }
    </style>
  </head>
  <body>
    <h1>HeyDay MVP – Frontend</h1>
    <div class="card">
      <h2>API Health</h2>
      <button onclick="checkHealth()">Check</button>
      <pre id="health"></pre>
    </div>

    <div class="card">
      <h2>Create Customer</h2>
      <input id="name" placeholder="Name" />
      <input id="phone" placeholder="Phone" />
      <input id="email" placeholder="Email" />
      <input id="birthday" placeholder="Birthday (YYYY-MM-DD)" />
      <button onclick="createCustomer()">Create</button>
      <pre id="customer"></pre>
    </div>

    <script>
      const API = '/api'; // proxied by vercel.json to Railway

      async function checkHealth() {
        const r = await fetch(`${API}/health`);
        document.getElementById('health').textContent = JSON.stringify(await r.json(), null, 2);
      }

      async function createCustomer() {
        const data = {
          name: document.getElementById('name').value,
          phone: document.getElementById('phone').value || null,
          email: document.getElementById('email').value || null,
          birthday: document.getElementById('birthday').value || null,
        };
        const r = await fetch(`${API}/customers/`, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) });
        document.getElementById('customer').textContent = JSON.stringify(await r.json(), null, 2);
      }
    </script>
  </body>
  </html>

